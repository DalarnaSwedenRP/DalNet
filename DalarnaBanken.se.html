<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dalarna Bank</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in {
            animation: fadeIn 0.8s ease-out;
        }
        .hover-scale {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .hover-scale:hover {
            transform: scale(1.02);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        .bg-bank {
            background: linear-gradient(to bottom, #1e3a8a, #10b981);
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col font-sans">
    <!-- Header -->
    <header class="bg-bank text-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 py-8">
            <h1 class="text-4xl font-extrabold tracking-tight text-center fade-in">Dalarna Bank</h1>
            <p class="text-center mt-2 text-emerald-100 fade-in">Din säkra bank</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow max-w-4xl mx-auto px-4 py-12">
        <section id="loginSection" class="bg-white rounded-xl shadow-lg p-8 mb-8 hover-scale fade-in">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Logga in</h2>
            <div class="space-y-4">
                <div>
                    <label for="username" class="block text-gray-600 mb-1">Användarnamn</label>
                    <input
                        type="text"
                        id="username"
                        placeholder="Ange ditt användarnamn"
                        class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-emerald-500"
                    >
                </div>
                <div>
                    <label for="password" class="block text-gray-600 mb-1">Lösenord</label>
                    <input
                        type="password"
                        id="password"
                        placeholder="Ange ditt lösenord"
                        class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-emerald-500"
                    >
                </div>
                <button
                    id="loginButton"
                    class="w-full bg-emerald-600 text-white py-3 rounded-lg hover:bg-emerald-700 transition"
                >
                    Logga in
                </button>
                <p id="loginError" class="text-red-500 text-center hidden">Fel användarnamn eller lösenord</p>
            </div>
        </section>

        <section id="accountSection" class="bg-white rounded-xl shadow-lg p-8 mb-8 hover-scale fade-in hidden">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Ditt konto</h2>
            <p id="accountInfo" class="text-gray-600 leading-relaxed mb-4"></p>
            <h3 class="text-xl font-semibold text-gray-800 mb-2">Transaktioner</h3>
            <div id="transactions" class="text-gray-600 mb-6"></div>
            <h3 class="text-xl font-semibold text-gray-800 mb-2">Lägg till transaktion</h3>
            <div class="space-y-4">
                <div>
                    <label for="productName" class="block text-gray-600 mb-1">Produktnamn</label>
                    <input
                        type="text"
                        id="productName"
                        placeholder="Ange produktnamn"
                        class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-emerald-500"
                    >
                </div>
                <div>
                    <label for="to" class="block text-gray-600 mb-1">Till</label>
                    <input
                        type="text"
                        id="to"
                        placeholder="Ange mottagare"
                        class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-emerald-500"
                    >
                </div>
                <div>
                    <label for="amount" class="block text-gray-600 mb-1">Summa (kr)</label>
                    <input
                        type="number"
                        id="amount"
                        placeholder="Ange summa"
                        class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-emerald-500"
                    >
                </div>
                <div>
                    <label for="isIncoming" class="block text-gray-600 mb-1">Transaktionstyp</label>
                    <select
                        id="isIncoming"
                        class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-emerald-500"
                    >
                        <option value="false">Utgående</option>
                        <option value="true">Inkommande</option>
                    </select>
                </div>
                <button
                    id="addTransactionButton"
                    class="w-full bg-emerald-600 text-white py-3 rounded-lg hover:bg-emerald-700 transition"
                >
                    Lägg till transaktion
                </button>
                <p id="transactionError" class="text-red-500 text-center hidden">Fyll i alla fält och se till att summan är positiv!</p>
            </div>
        </section>

        <section class="bg-white rounded-xl shadow-lg p-8 mb-8 hover-scale fade-in">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Om Dalarna Bank</h2>
            <p class="text-gray-600 leading-relaxed">
                Dalarna Bank är din pålitliga partner för ekonomi. Vi erbjuder lån och säkra transaktioner för alla spelare.
            </p>
        </section>

        <section class="bg-white rounded-xl shadow-lg p-8 mb-8 hover-scale fade-in">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Tjänster</h2>
            <p class="text-gray-600 leading-relaxed">
                - Öppna ett konto och få 500kr i välkomstbonus.<br>
                - Lån för bilköp och bostäder tillgängliga.<br>
                - Säkra transaktioner via vår webbplats.
            </p>
        </section>

        <section class="bg-white rounded-xl shadow-lg p-8 mb-8 hover-scale fade-in">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Kontakt</h2>
            <p class="text-gray-600 leading-relaxed">
                <strong>Support:</strong> Kontakta oss via chatten här så svarar vi så snabbt som möjligt
            </p>
        </section>

        <div class="text-center">
            <a href="index.html" class="inline-block bg-emerald-600 text-white py-3 px-6 rounded-full hover:bg-emerald-700 transition fade-in">Tillbaka till startsidan</a>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-4">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p>&copy; 2025 Dalarna Bank.</p>
        </div>
    </footer>

    <script>
        const accounts = [
            {
                name: "Adrian Munter",
                username: "AdrianMunter",
                password: "1379",
                balance: 108035,
                transactions: [
                    {
                        productName: "Testprodukt",
                        to: "Testföretag",
                        amount: 0,
                        paid: true,
                        date: "2025-08-29"
                    }
                ]
            },
            {
                name: "Benjamin",
                username: "Benjas",
                password: "321",
                balance: 51009,
                transactions: []
            },
            {
                name: "Savanna",
                username: "SavannaKolmodin",
                password: "7895",
                balance: 67357,
                transactions: [
                    {
                        productName: "Hyr Polisbil & Polisuniform",
                        to: "Dalarna Bank",
                        amount: 4200,
                        paid: true,
                        date: "2025-09-09"
                    }
                ]
            },
            {
                name: "Emil",
                username: "Emil",
                password: "546852",
                balance: 0,
                transactions: []
            },
            {
                name: "Windskore",
                username: "Windskore",
                password: "wind123",
                balance: 205000, // Uppdaterat: 55000 + 150000 = 205000
                transactions: [
                    {
                        productName: "Gjorde om polisens hemsida [Inkommande]",
                        to: "DalNet RP",
                        amount: 55000,
                        paid: true,
                        date: "2025-09-01"
                    },
                    {
                        productName: "Gjorde domstolens hemsida [Inkommande]",
                        to: "Dalarna Bank",
                        amount: 150000,
                        paid: true,
                        date: "2025-09-02"
                    }
                ]
            }
        ];

        const loginSection = document.getElementById('loginSection');
        const accountSection = document.getElementById('accountSection');
        const loginButton = document.getElementById('loginButton');
        const usernameInput = document.getElementById('username');
        const passwordInput = document.getElementById('password');
        const loginError = document.getElementById('loginError');
        const accountInfo = document.getElementById('accountInfo');
        const transactionsDiv = document.getElementById('transactions');
        const addTransactionButton = document.getElementById('addTransactionButton');
        const productNameInput = document.getElementById('productName');
        const toInput = document.getElementById('to');
        const amountInput = document.getElementById('amount');
        const isIncomingSelect = document.getElementById('isIncoming');
        const transactionError = document.getElementById('transactionError');

        let currentUser = null;

        // Funktion för att visa transaktioner
        function displayTransactions(account) {
            if (account.transactions.length > 0) {
                let transactionsHtml = '<ul class="space-y-4">';
                account.transactions.forEach(t => {
                    transactionsHtml += `
                        <li class="border-b border-gray-200 pb-2">
                            <strong>Namn på produkt:</strong> ${t.productName}<br>
                            <strong>Till:</strong> ${t.to}<br>
                            <strong>Summa:</strong> ${t.amount.toLocaleString('sv-SE')} kr<br>
                            <strong>Betalat:</strong> ${t.paid ? 'Ja' : 'Nej'}<br>
                            <strong>Datum:</strong> ${t.date}<br>
                        </li>
                    `;
                });
                transactionsHtml += '</ul>';
                transactionsDiv.innerHTML = transactionsHtml;
            } else {
                transactionsDiv.innerHTML = '<p class="text-gray-600">Inga transaktioner att visa.</p>';
            }
        }

        // Hantera inloggning
        loginButton.addEventListener('click', () => {
            const username = usernameInput.value.trim();
            const password = passwordInput.value.trim();

            const account = accounts.find(
                acc => acc.username === username && acc.password === password
            );

            if (account) {
                currentUser = account;
                loginSection.classList.add('hidden');
                loginError.classList.add('hidden');
                accountSection.classList.remove('hidden');
                accountInfo.innerHTML = `
                    <strong>Välkommen, ${account.name}!</strong><br>
                    Ditt saldo: <span class="text-emerald-600 font-bold">${account.balance.toLocaleString('sv-SE')} kr</span>
                `;
                displayTransactions(account);
            } else {
                loginError.classList.remove('hidden');
            }
        });

        // Hantera tillägg av transaktion
        addTransactionButton.addEventListener('click', () => {
            const productName = productNameInput.value.trim();
            const to = toInput.value.trim();
            const amount = parseFloat(amountInput.value);
            const isIncoming = isIncomingSelect.value === 'true';
            const date = new Date().toISOString().split('T')[0]; // Dagens datum i YYYY-MM-DD-format

            // Validering
            if (!productName || !to || isNaN(amount) || amount <= 0) {
                transactionError.classList.remove('hidden');
                return;
            }

            // Skapa transaktion
            const newTransaction = {
                productName,
                to,
                amount,
                paid: true, // Anta att transaktionen är betald
                date
            };

            // Lägg till transaktion och uppdatera balans
            currentUser.transactions.push(newTransaction);
            if (isIncoming) {
                currentUser.balance += amount;
            } else {
                currentUser.balance -= amount;
            }

            // Uppdatera kontovyn
            accountInfo.innerHTML = `
                <strong>Välkommen, ${currentUser.name}!</strong><br>
                Ditt saldo: <span class="text-emerald-600 font-bold">${currentUser.balance.toLocaleString('sv-SE')} kr</span>
            `;
            displayTransactions(currentUser);

            // Rensa formuläret
            productNameInput.value = '';
            toInput.value = '';
            amountInput.value = '';
            isIncomingSelect.value = 'false';
            transactionError.classList.add('hidden');
        });
    </script>
    <!--Start of Tawk.to Script-->
    <script type="text/javascript">
        var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
        (function(){
            var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
            s1.async=true;
            s1.src='https://embed.tawk.to/68b084f225311e19212dca45/1j3ooekvk';
            s1.charset='UTF-8';
            s1.setAttribute('crossorigin','*');
            s0.parentNode.insertBefore(s1,s0);
        })();
    </script>
    <!--End of Tawk.to Script-->
</body>
</html>
